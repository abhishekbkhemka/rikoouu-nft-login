{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import'./App.css';import Navbar from'./components/Navbar';import Register from'./components/auth/Register';import ForgotPassword from'./components/auth/ForgotPassword';import ForgotPasswordVerification from'./components/auth/ForgotPasswordVerification';import ChangePassword from'./components/auth/ChangePassword';import ChangePasswordConfirm from'./components/auth/ChangePasswordConfirm';import Welcome from'./components/auth/Welcome';import LogIn from\"../src/components/auth/LogIn\";import Amplify from'aws-amplify';import Auth from'@aws-amplify/auth';Amplify.configure({Auth:{// REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID\nidentityPoolId:'us-east-2:5f66f6e9-66a4-486b-90e3-a624f1b33dde',// REQUIRED - Amazon Cognito Region\nregion:'us-east-2',// OPTIONAL - Amazon Cognito User Pool ID\nuserPoolId:'us-east-2_TLJFgUkW1',userPoolWebClientId:'7cl7s4he1663ugelo1ulsic8ae',// OPTIONAL - Configuration for cookie storage\n// Note: if the secure flag is set to true, then the cookie transmission requires a secure protocol\ncookieStorage:{domain:\".rikoouu.com\",// REQUIRED - Cookie domain (only required if cookieStorage is provided)\n// OPTIONAL - Cookie path\npath:'/',// OPTIONAL - Cookie expiration in days\nexpires:365,// OPTIONAL - See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite\n// OPTIONAL - Cookie secure flag\nsameSite:\"none\",// Either true or false, indicating if the cookie transmission requires a secure protocol (https).\nsecure:true}}});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isAuthenticated:false,isAuthenticating:true,user:null};_this.setAuthStatus=function(authenticated){_this.setState({isAuthenticated:authenticated});};_this.setUser=function(user){_this.setState({user:user});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var useri,session,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Auth.currentAuthenticatedUser();case 3:useri=_context.sent;console.log(useri);_context.next=7;return Auth.currentSession();case 7:session=_context.sent;this.setAuthStatus(true);console.log(session);_context.next=12;return Auth.currentAuthenticatedUser();case 12:user=_context.sent;this.setUser(user);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);if(_context.t0!=='No current user'){console.log(_context.t0);}case 19:this.setState({isAuthenticating:false});case 20:case\"end\":return _context.stop();}}},_callee,this,[[0,16]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var authProps={isAuthenticated:this.state.isAuthenticated,user:this.state.user,setAuthStatus:this.setAuthStatus,setUser:this.setUser};return!this.state.isAuthenticating&&/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,{auth:authProps}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(LogIn,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/register\",render:function render(props){return/*#__PURE__*/React.createElement(Register,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/forgotpassword\",render:function render(props){return/*#__PURE__*/React.createElement(ForgotPassword,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/forgotpasswordverification\",render:function render(props){return/*#__PURE__*/React.createElement(ForgotPasswordVerification,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/changepassword\",render:function render(props){return/*#__PURE__*/React.createElement(ChangePassword,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/changepasswordconfirmation\",render:function render(props){return/*#__PURE__*/React.createElement(ChangePasswordConfirm,Object.assign({},props,{auth:authProps}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/welcome\",render:function render(props){return/*#__PURE__*/React.createElement(Welcome,Object.assign({},props,{auth:authProps}));}})),/*#__PURE__*/React.createElement(\"div\",{style:{display:'grid',justifyContent:'center',alignItems:'center',height:'100vh'}},this.state.isAuthenticated?'User logged in':'Please Login'))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Navbar","Register","ForgotPassword","ForgotPasswordVerification","ChangePassword","ChangePasswordConfirm","Welcome","LogIn","Amplify","Auth","configure","identityPoolId","region","userPoolId","userPoolWebClientId","cookieStorage","domain","path","expires","sameSite","secure","App","state","isAuthenticated","isAuthenticating","user","setAuthStatus","authenticated","setState","setUser","currentAuthenticatedUser","useri","console","log","currentSession","session","authProps","props","display","justifyContent","alignItems","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Navbar from './components/Navbar';\n\nimport Register from './components/auth/Register';\nimport ForgotPassword from './components/auth/ForgotPassword';\nimport ForgotPasswordVerification from './components/auth/ForgotPasswordVerification';\nimport ChangePassword from './components/auth/ChangePassword';\nimport ChangePasswordConfirm from './components/auth/ChangePasswordConfirm';\nimport Welcome from './components/auth/Welcome';\nimport LogIn from \"../src/components/auth/LogIn\";\nimport Amplify from 'aws-amplify';\nimport Auth from '@aws-amplify/auth';\n\nAmplify.configure({\n    Auth: {\n\n        // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID\n        identityPoolId: 'us-east-2:5f66f6e9-66a4-486b-90e3-a624f1b33dde',\n\n        // REQUIRED - Amazon Cognito Region\n        region: 'us-east-2',\n\n\n\n        // OPTIONAL - Amazon Cognito User Pool ID\n        userPoolId: 'us-east-2_TLJFgUkW1',\n        userPoolWebClientId:'7cl7s4he1663ugelo1ulsic8ae',\n\n\n\n        // OPTIONAL - Configuration for cookie storage\n        // Note: if the secure flag is set to true, then the cookie transmission requires a secure protocol\n        cookieStorage: {\n            domain:\".rikoouu.com\",\n\n            // REQUIRED - Cookie domain (only required if cookieStorage is provided)\n            // OPTIONAL - Cookie path\n            path: '/',\n            // OPTIONAL - Cookie expiration in days\n            expires: 365,\n            // OPTIONAL - See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite\n            // OPTIONAL - Cookie secure flag\n            sameSite: \"none\",\n            // Either true or false, indicating if the cookie transmission requires a secure protocol (https).\n            secure: true\n        },\n\n\n    }\n});\n\nclass App extends Component {\n  state = {\n    isAuthenticated: false,\n    isAuthenticating: true,\n    user: null,\n  };\n\n  setAuthStatus = (authenticated) => {\n    this.setState({ isAuthenticated: authenticated });\n  };\n\n  setUser = (user) => {\n    this.setState({ user: user });\n  };\n\n  async componentDidMount() {\n    try {\n        const useri = await Auth.currentAuthenticatedUser();\n        console.log(useri)\n\n        const session = await Auth.currentSession();\n      this.setAuthStatus(true);\n      console.log(session);\n      const user = await Auth.currentAuthenticatedUser();\n      this.setUser(user);\n    } catch (error) {\n      if (error !== 'No current user') {\n        console.log(error);\n      }\n    }\n\n    this.setState({ isAuthenticating: false });\n  }\n\n  render() {\n    const authProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      user: this.state.user,\n      setAuthStatus: this.setAuthStatus,\n      setUser: this.setUser,\n    };\n    return (\n      !this.state.isAuthenticating && (\n        <div className=\"App\">\n          <Router>\n            <div>\n              <Navbar auth={authProps} />\n              <Switch>\n                <Route\n                  exact\n                  path=\"/login\"\n                  render={(props) => <LogIn {...props} auth={authProps} />}\n                />\n                <Route\n                  exact\n                  path=\"/register\"\n                  render={(props) => <Register {...props} auth={authProps} />}\n                />\n                <Route\n                  exact\n                  path=\"/forgotpassword\"\n                  render={(props) => (\n                    <ForgotPassword {...props} auth={authProps} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/forgotpasswordverification\"\n                  render={(props) => (\n                    <ForgotPasswordVerification {...props} auth={authProps} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/changepassword\"\n                  render={(props) => (\n                    <ChangePassword {...props} auth={authProps} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/changepasswordconfirmation\"\n                  render={(props) => (\n                    <ChangePasswordConfirm {...props} auth={authProps} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/welcome\"\n                  render={(props) => <Welcome {...props} auth={authProps} />}\n                />\n              </Switch>\n              <div\n                style={{\n                  display: 'grid',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '100vh',\n                }}\n              >\n                {this.state.isAuthenticated ? 'User logged in' : 'Please Login'}\n              </div>\n            </div>\n          </Router>\n        </div>\n      )\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}