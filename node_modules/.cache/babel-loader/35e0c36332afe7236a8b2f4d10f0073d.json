{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import FormErrors from\"../FormErrors\";import Validate from\"../utility/FormValidation\";import{Auth}from'aws-amplify';var ForgotPassword=/*#__PURE__*/function(_Component){_inherits(ForgotPassword,_Component);var _super=_createSuper(ForgotPassword);function ForgotPassword(){var _this;_classCallCheck(this,ForgotPassword);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",errors:{cognito:null,blankfield:false}};_this.clearErrorState=function(){_this.setState({errors:{cognito:null,blankfield:false}});};_this.forgotPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// Form validation\n_this.clearErrorState();error=Validate(event,_this.state);if(error){_this.setState({errors:_objectSpread(_objectSpread({},_this.state.errors),error)});}// AWS Cognito integration here\n_context.prev=4;_context.next=7;return Auth.forgotPassword(_this.state.email);case 7:_this.props.history.push('/forgotpasswordverification');_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[4,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onInputChange=function(event){_this.setState({[event.target.id]:event.target.value});document.getElementById(event.target.id).classList.remove(\"is-danger\");};return _this;}_createClass(ForgotPassword,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"section\",{className:\"section auth\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Forgot your password?\"),/*#__PURE__*/React.createElement(\"p\",null,\"Please enter the email address associated with your account and we'll email you a password reset link.\"),/*#__PURE__*/React.createElement(FormErrors,{formerrors:this.state.errors}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.forgotPasswordHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"p\",{className:\"control has-icons-left has-icons-right\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"input\",id:\"email\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",value:this.state.email,onChange:this.onInputChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"icon is-small is-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-envelope\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"p\",{className:\"control\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/forgotpassword\"},\"Forgot password?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"p\",{className:\"control\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button is-success\"},\"Submit\"))))));}}]);return ForgotPassword;}(Component);export default ForgotPassword;","map":{"version":3,"sources":["/Users/abhishekbkhemka/rikoouu/rikoouu-login-demo-nft/src/components/auth/ForgotPassword.js"],"names":["React","Component","FormErrors","Validate","Auth","ForgotPassword","state","email","errors","cognito","blankfield","clearErrorState","setState","forgotPasswordHandler","event","preventDefault","error","forgotPassword","props","history","push","console","log","onInputChange","target","id","value","document","getElementById","classList","remove"],"mappings":"gqCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,OAASC,IAAT,KAAqB,aAArB,C,GAEMC,CAAAA,c,2VACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,MAAM,CAAE,CACNC,OAAO,CAAE,IADH,CAENC,UAAU,CAAE,KAFN,CAFF,C,OAQRC,e,CAAkB,UAAM,CACtB,MAAKC,QAAL,CAAc,CACZJ,MAAM,CAAE,CACNC,OAAO,CAAE,IADH,CAENC,UAAU,CAAE,KAFN,CADI,CAAd,EAMD,C,OAEDG,qB,0FAAwB,iBAAMC,KAAN,4HACtBA,KAAK,CAACC,cAAN,GAEA;AACA,MAAKJ,eAAL,GACMK,KALgB,CAKRb,QAAQ,CAACW,KAAD,CAAQ,MAAKR,KAAb,CALA,CAMtB,GAAIU,KAAJ,CAAW,CACT,MAAKJ,QAAL,CAAc,CACZJ,MAAM,gCAAO,MAAKF,KAAL,CAAWE,MAAlB,EAA6BQ,KAA7B,CADM,CAAd,EAGD,CAED;AAZsB,sCAcdZ,CAAAA,IAAI,CAACa,cAAL,CAAoB,MAAKX,KAAL,CAAWC,KAA/B,CAdc,QAepB,MAAKW,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,6BAAxB,EAfoB,iFAiBpBC,OAAO,CAACC,GAAR,cAjBoB,qE,qEAqBxBC,a,CAAgB,SAAAT,KAAK,CAAI,CACvB,MAAKF,QAAL,CAAc,CACZ,CAACE,KAAK,CAACU,MAAN,CAAaC,EAAd,EAAmBX,KAAK,CAACU,MAAN,CAAaE,KADpB,CAAd,EAGAC,QAAQ,CAACC,cAAT,CAAwBd,KAAK,CAACU,MAAN,CAAaC,EAArC,EAAyCI,SAAzC,CAAmDC,MAAnD,CAA0D,WAA1D,EACD,C,gEAED,iBAAS,CACP,mBACE,+BAAS,SAAS,CAAC,cAAnB,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,sDADF,cAEE,sIAFF,cAME,oBAAC,UAAD,EAAY,UAAU,CAAE,KAAKxB,KAAL,CAAWE,MAAnC,EANF,cAQE,4BAAM,QAAQ,CAAE,KAAKK,qBAArB,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,yBAAG,SAAS,CAAC,wCAAb,eACE,6BACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,OAFZ,CAGE,EAAE,CAAC,OAHL,CAIE,mBAAiB,WAJnB,CAKE,WAAW,CAAC,aALd,CAME,KAAK,CAAE,KAAKP,KAAL,CAAWC,KANpB,CAOE,QAAQ,CAAE,KAAKgB,aAPjB,EADF,cAUE,4BAAM,SAAS,CAAC,uBAAhB,eACE,yBAAG,SAAS,CAAC,iBAAb,EADF,CAVF,CADF,CADF,cAiBE,2BAAK,SAAS,CAAC,OAAf,eACE,yBAAG,SAAS,CAAC,SAAb,eACE,yBAAG,IAAI,CAAC,iBAAR,qBADF,CADF,CAjBF,cAsBE,2BAAK,SAAS,CAAC,OAAf,eACE,yBAAG,SAAS,CAAC,SAAb,eACE,8BAAQ,SAAS,CAAC,mBAAlB,WADF,CADF,CAtBF,CARF,CADF,CADF,CA2CD,C,4BA1F0BtB,S,EA6F7B,cAAeI,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport FormErrors from \"../FormErrors\";\nimport Validate from \"../utility/FormValidation\";\nimport { Auth } from 'aws-amplify';\n\nclass ForgotPassword extends Component {\n  state = {\n    email: \"\",\n    errors: {\n      cognito: null,\n      blankfield: false\n    }\n  }\n\n  clearErrorState = () => {\n    this.setState({\n      errors: {\n        cognito: null,\n        blankfield: false\n      }\n    });\n  }\n\n  forgotPasswordHandler = async event => {\n    event.preventDefault();\n\n    // Form validation\n    this.clearErrorState();\n    const error = Validate(event, this.state);\n    if (error) {\n      this.setState({\n        errors: { ...this.state.errors, ...error }\n      });\n    }\n\n    // AWS Cognito integration here\n    try {\n      await Auth.forgotPassword(this.state.email);\n      this.props.history.push('/forgotpasswordverification');\n    }catch(error) {\n      console.log(error);\n    }\n  }\n\n  onInputChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n    document.getElementById(event.target.id).classList.remove(\"is-danger\");\n  }\n\n  render() {\n    return (\n      <section className=\"section auth\">\n        <div className=\"container\">\n          <h1>Forgot your password?</h1>\n          <p>\n            Please enter the email address associated with your account and we'll\n            email you a password reset link.\n          </p>\n          <FormErrors formerrors={this.state.errors} />\n\n          <form onSubmit={this.forgotPasswordHandler}>\n            <div className=\"field\">\n              <p className=\"control has-icons-left has-icons-right\">\n                <input\n                  type=\"email\"\n                  className=\"input\"\n                  id=\"email\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"Enter email\"\n                  value={this.state.email}\n                  onChange={this.onInputChange}\n                />\n                <span className=\"icon is-small is-left\">\n                  <i className=\"fas fa-envelope\"></i>\n                </span>\n              </p>\n            </div>\n            <div className=\"field\">\n              <p className=\"control\">\n                <a href=\"/forgotpassword\">Forgot password?</a>\n              </p>\n            </div>\n            <div className=\"field\">\n              <p className=\"control\">\n                <button className=\"button is-success\">\n                  Submit\n                </button>\n              </p>\n            </div>\n          </form>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}